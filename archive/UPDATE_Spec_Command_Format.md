# Spec æ¨¡å—å‘½ä»¤æ ¼å¼ç»Ÿä¸€æ€»ç»“

**æ›´æ–°æ—¥æœŸ**: 2025-12-01  
**å˜æ›´**: å°† `/tspec` ç‹¬ç«‹å‘½ä»¤æ”¹ä¸º `/tsl spec` å­å‘½ä»¤

---

## ğŸ”„ å˜æ›´å†…å®¹

### å‘½ä»¤æ ¼å¼å˜æ›´

#### æ—§æ ¼å¼ï¼ˆç‹¬ç«‹å‘½ä»¤ï¼‰
```
/tspec start [å»¶è¿Ÿ]
/tspec stop
/tspec add <ç©å®¶>
/tspec remove <ç©å®¶>
/tspec list
/tspec reload
```

#### æ–°æ ¼å¼ï¼ˆå­å‘½ä»¤ï¼‰
```
/tsl spec start [å»¶è¿Ÿ]
/tsl spec stop
/tsl spec add <ç©å®¶>
/tsl spec remove <ç©å®¶>
/tsl spec list
/tsl spec reload
```

---

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆ4ä¸ªï¼‰

### 1. plugin.yml
**å˜æ›´**:
- âŒ ç§»é™¤ç‹¬ç«‹çš„ `tspec` å‘½ä»¤å®šä¹‰
- âœ… å°† spec å‘½ä»¤æ·»åŠ åˆ° `tsl` å‘½ä»¤çš„ usage ä¸­

```yaml
# æ—§çš„
commands:
  tsl:
    ...
  tspec:
    description: è§‚ä¼—æ¨¡å¼å‘½ä»¤
    ...

# æ–°çš„
commands:
  tsl:
    usage: |
      ...
      /tsl spec start [å»¶è¿Ÿ]
      /tsl spec stop
      ...
```

### 2. TSLplugins.kt
**å˜æ›´**:
- âŒ ç§»é™¤ç‹¬ç«‹çš„ tspec å‘½ä»¤æ³¨å†Œä»£ç 
- âœ… å°† spec æ³¨å†Œä¸º tsl çš„å­å‘½ä»¤

```kotlin
// æ—§çš„
getCommand("tspec")?.let { command ->
    val specCommand = SpecCommand(specManager)
    command.setExecutor(specCommand)
    command.tabCompleter = specCommand
}

// æ–°çš„
dispatcher.registerSubCommand("spec", SpecCommand(specManager))
```

### 3. SpecCommand.kt
**å˜æ›´**:
- âœ… æ›´æ–°ç±»æ³¨é‡Šä¸­çš„å‘½ä»¤æ ¼å¼
- âœ… æ›´æ–° showHelp() ä¸­çš„å‘½ä»¤æç¤º
- âœ… æ›´æ–° handleStart() ä¸­çš„åœæ­¢æç¤º
- âœ… æ›´æ–° handleAdd() ä¸­çš„ç”¨æ³•æç¤º
- âœ… æ›´æ–° handleRemove() ä¸­çš„ç”¨æ³•æç¤º

```kotlin
// æ‰€æœ‰ /tspec æ”¹ä¸º /tsl spec
```

### 4. config.yml
**å˜æ›´**:
- âœ… æ›´æ–°æ³¨é‡Šä¸­çš„å‘½ä»¤æ ¼å¼

```yaml
# æ—§çš„
# å½“ä½¿ç”¨ /tspec start ä¸æŒ‡å®šå»¶è¿Ÿæ—¶ä½¿ç”¨

# æ–°çš„
# å½“ä½¿ç”¨ /tsl spec start ä¸æŒ‡å®šå»¶è¿Ÿæ—¶ä½¿ç”¨
```

---

## âœ… ç»Ÿä¸€æ•ˆæœ

### å‘½ä»¤é£æ ¼ä¸€è‡´
ç°åœ¨æ‰€æœ‰æ¨¡å—éƒ½ä½¿ç”¨ç»Ÿä¸€çš„ `/tsl <æ¨¡å—> <æ“ä½œ>` æ ¼å¼ï¼š

```bash
/tsl list                    # ç©å®¶åˆ—è¡¨
/tsl near [èŒƒå›´]             # é™„è¿‘ç©å®¶
/tsl phantom                 # å¹»ç¿¼æ§åˆ¶
/tsl spec start [å»¶è¿Ÿ]       # è§‚ä¼—æ¨¡å¼ âœ… æ–°æ ¼å¼
/tsl spec stop               # è§‚ä¼—æ¨¡å¼ âœ… æ–°æ ¼å¼
/tsl reload                  # é‡è½½é…ç½®
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›
- âœ… **ç»Ÿä¸€æ€§**: æ‰€æœ‰åŠŸèƒ½éƒ½é€šè¿‡ `/tsl` å…¥å£
- âœ… **æ˜“è®°æ€§**: ä¸éœ€è¦è®°ä½å¤šä¸ªç‹¬ç«‹å‘½ä»¤
- âœ… **ä¸€è‡´æ€§**: ç¬¦åˆæ’ä»¶æ•´ä½“æ¶æ„
- âœ… **ä¸“ä¸šæ€§**: å‘½ä»¤ç»“æ„æ›´åŠ è§„èŒƒ

---

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### å¼€å§‹è§‚çœ‹
```bash
/tsl spec start          # é»˜è®¤ 5 ç§’å»¶è¿Ÿ
/tsl spec start 10       # 10 ç§’å»¶è¿Ÿ
```

### åœæ­¢è§‚çœ‹
```bash
/tsl spec stop
```

### ç™½åå•ç®¡ç†
```bash
/tsl spec add ç©å®¶å
/tsl spec remove ç©å®¶å
/tsl spec list
```

### é‡è½½é…ç½®
```bash
/tsl spec reload
```

---

## ğŸ“Š å˜æ›´ç»Ÿè®¡

| æ–‡ä»¶ç±»å‹ | å˜æ›´æ–‡ä»¶ | å˜æ›´è¡Œæ•° |
|---------|---------|---------|
| é…ç½®æ–‡ä»¶ | 2 | ~15 |
| ä»£ç æ–‡ä»¶ | 2 | ~20 |
| **æ€»è®¡** | **4** | **~35** |

---

## âœ… éªŒè¯æ¸…å•

- [x] plugin.yml ä¸­ç§»é™¤ tspec å‘½ä»¤å®šä¹‰
- [x] plugin.yml ä¸­æ·»åŠ  spec åˆ° tsl å‘½ä»¤
- [x] TSLplugins.kt ç§»é™¤ç‹¬ç«‹å‘½ä»¤æ³¨å†Œ
- [x] TSLplugins.kt æ·»åŠ å­å‘½ä»¤æ³¨å†Œ
- [x] SpecCommand.kt æ›´æ–°æ‰€æœ‰å‘½ä»¤æç¤º
- [x] config.yml æ›´æ–°æ³¨é‡Š
- [x] ç¼–è¯‘é€šè¿‡ï¼Œæ— é”™è¯¯

---

## ğŸ“ æ€»ç»“

æˆåŠŸå°† Spec æ¨¡å—çš„å‘½ä»¤æ ¼å¼ç»Ÿä¸€ä¸º `/tsl spec` å­å‘½ä»¤æ ¼å¼ï¼Œä¸å…¶ä»–æ¨¡å—ä¿æŒä¸€è‡´ï¼š

**ä¼˜åŠ¿**:
- âœ… å‘½ä»¤ç»“æ„ç»Ÿä¸€
- âœ… ç”¨æˆ·ä½“éªŒä¸€è‡´
- âœ… æ˜“äºç®¡ç†å’Œç»´æŠ¤
- âœ… ç¬¦åˆæ’ä»¶æ•´ä½“æ¶æ„

**å½±å“**:
- âœ… ç”¨æˆ·éœ€è¦ä½¿ç”¨æ–°çš„å‘½ä»¤æ ¼å¼
- âœ… æ—§çš„ `/tspec` å‘½ä»¤å°†ä¸å†å¯ç”¨
- âœ… æ‰€æœ‰æç¤ºå’Œæ–‡æ¡£å·²æ›´æ–°

---

**æ›´æ–°å®Œæˆæ—¶é—´**: 2025-12-01  
**æ›´æ–°çŠ¶æ€**: âœ… å®Œæˆ  
**ç¼–è¯‘çŠ¶æ€**: âœ… é€šè¿‡

