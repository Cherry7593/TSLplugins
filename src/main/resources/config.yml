# TSLplugins 配置文件
config-version: 43

# 数据库
database:
  table-prefix: tsl_
  sqlite:
    file: data/tslplugins.db

# 计时属性效果
timed-attribute:
  enabled: false
  scan-interval-ticks: 20

# PAPI变量映射 (%tsl_alias_变量名%)
papi-alias:
  enabled: false
  return-original-if-not-found: true
  mappings: {}

# 聊天屏蔽
ignore:
  enabled: false
  max-ignore-count: 100

# 雪防融化
snow-anti-melt:
  enabled: false

# MOTD假玩家
fakeplayer:
  enabled: false
  count: 3

# 命令别名 (配置见aliases.yml)
alias:
  enabled: false

# 成就消息过滤
advancement:
  enabled: false

# 农田保护
farmprotect:
  enabled: false

# 访客模式
visitor:
  enabled: false
  groups:
    - "visitor"
    - "guest"
  restrictions:
    block-break: true
    block-place: true
    item-use: true
    container-open: true
    pressure-plate: true
    entity-damage: true
  gained:
    chat: "&a[访客模式] &7已进入访客模式"
    title: "&a访客模式"
    subtitle: "&7已启用"
    sound: "entity.player.levelup"
  lost:
    chat: "&c[访客模式] &7已退出访客模式"
    title: "&c访客模式"
    subtitle: "&7已禁用"
    sound: "block.note_block.bass"

# 权限检测
permission-checker:
  enabled: false
  rules:
    whitelist-check:
      variable: "%player_is_whitelisted%"
      value: "true"
      target-group: "normal"
      mode: "set"
      execute-commands: false
      commands: []

# 维护模式
maintenance:
  enabled: false
  kick-message:
    - "&c&l⚠ 服务器维护中 ⚠"
  motd:
    - "&c&l⚠ 服务器维护中 ⚠"
    - "&7正在维护，请稍后再试"
  version-text: "&c维护中 ✖"
  show-incompatible-version: true
  show-fake-players: true
  fake-online: 0
  fake-max: 0
  hover-message:
    - "&c&l⚠ 服务器维护中 ⚠"

# 玩家体型
scale:
  enabled: false
  min: 0.8
  max: 1.1

# Hat头戴
hat:
  enabled: false
  cooldown: 0.0
  blacklist:
    - COMMAND_BLOCK

# Ping延迟
ping:
  enabled: false
  entries_per_page: 10
  ping_colors:
    green: 100
    yellow: 200

# 生物举起
toss:
  enabled: false
  show_messages: false
  blacklist:
    - WITHER
    - ENDER_DRAGON
    - WARDEN
    - VILLAGER
    - SHULKER
  max_lift_count: 5
  default_enabled: false
  throw_velocity:
    min: 1.0
    max: 3.0

# 冻结玩家
freeze:
  enabled: false

# 骑乘生物
ride:
  enabled: false
  default_enabled: false
  blacklist:
    - WITHER
    - ENDER_DRAGON
    - WARDEN
    - GHAST
    - ELDER_GUARDIAN
    - VILLAGER
    - SHULKER

# 永久幼年生物
babylock:
  enabled: false
  prefixes:
    - "[幼]"
    - "[小]"
    - "[Baby]"
  case_sensitive: false
  prevent_despawn: true
  enabled_types: []

# 亲吻功能
kiss:
  enabled: false
  cooldown: 1.0

# 方块统计
blockstats:
  enabled: false

# 聊天气泡
chatbubble:
  enabled: false
  yOffset: 0.75
  timeSpan: 100
  billboard: "VERTICAL"
  shadow: false
  viewRange: 16.0
  updateTicks: 2
  movementTicks: 4
  opacity:
    default: 1.0
    sneaking: 0.25
  background:
    red: -1
    green: 0
    blue: 0
    alpha: 0

# 幽灵方块清理
fixghost:
  enabled: false
  default-radius: 5
  max-radius: 5
  cooldown: 5.0

# 附近玩家
near:
  enabled: false
  defaultRadius: 1000
  maxRadius: 1000

# 速度控制
speed:
  enabled: false
  min-multiplier: 0.1
  max-multiplier: 10.0

# 幻翼控制
phantom:
  enabled: false
  checkInterval: 300

# 萌新标志
newbieTag:
  enabled: false
  thresholdHours: 24
  newbieTag: "✨"
  veteranTag: "⚡"

# 观众模式
spec:
  enabled: false
  defaultDelay: 30
  minDelay: 10
  maxDelay: 300
  whitelist: []

# 称号系统
title:
  enabled: false
  luckperms-priority: 100
  join-delay: 20

# Web通信桥
webbridge:
  enabled: false
  server-id: ""
  websocket:
    url: "ws://127.0.0.1:4001/mc-bridge"
    token: ""
  auto-reconnect: true
  reconnect-interval: 30
  max-reconnect-attempts: 5
  player-list-interval: 30
  heartbeat-interval: 30
  web-to-game-format: "&7[&b{source}&7] &f<{playerName}> &7{message}"
  qq-bind:
    # 点击解绑按钮时执行的命令
    unbind-click-command: "/tsl bind unbind"
    # 绑定成功时执行的命令（支持变量: %player%, %uuid%, %qq%）
    on-bind-commands:
      - "lp user %player% parent set normal"
    # 解绑成功时执行的命令
    on-unbind-commands:
      - "lp user %player% parent set default"

# 末影龙控制
enddragon:
  enabled: false
  disable-damage: true

# 人数控制命令
player-count-cmd:
  enabled: false
  upper-threshold: 52
  lower-threshold: 48
  min-interval-ms: 10000
  command-when-low: "chunky continue"
  command-when-high: "chunky pause"

# 猫娘模式
neko:
  enabled: false
  suffix: "喵~"
  scan-interval-ticks: 20

# 视频播放器
mcedia:
  enabled: false
  player-name-prefix: "mcedia"
  default-scale: 1.0
  default-volume: 1.0
  max-players: 50
  trigger-item: ""

# 随机数变量 (%tsl_random_变量名%)
random-variable:
  enabled: false
  variables:
    scale_random:
      precision: 1
      ranges:
        - min: 0.1
          max: 1.0
          weight: 1.0
        - min: 1.0
          max: 20.0
          weight: 1.0

# 伪和平模式
peace:
  enabled: false
  scan-interval-ticks: 20
  nospawn-radius: 48

# 在线时长统计
playtime:
  enabled: false
  save-interval-ticks: 6000
  timezone: "Asia/Shanghai"

# 超级大雪球
super-snowball:
  enabled: false
  snow-radius: 5
  knockback-radius: 7.0
  knockback-strength: 1.5
  gravity: 0.06
  velocity-multiplier: 0.6
  trail-particle-count: 3
  trail-particle-interval: 2
  impact-particle-count: 50
  snow-layer-chance: 0.7
  max-snow-layers: 3
  freeze-ticks: 100
  use-custom-model: true
  custom-model-key: "cris_tsl:big_snow_ball"
  impact-sounds: []

# 红石冻结
redstone-freeze:
  enabled: false
  max-radius: 32
  bossbar-title: "§c❄ 当前区域物理已冻结 ❄"
  affected-components:
    redstone-signal: true
    piston-extend: true
    piston-retract: true
    block-physics: true
    tnt-prime: true
    explosion: true
    tnt-spawn: true

# 宝库重置
vault:
  enabled: false
  current-epoch: 1
  reset-interval-days: 15
  last-reset-timestamp: 0
  abnormal-threshold: 100000
  debug: false

# 指令投票
vote:
  enabled: false
  cooldown-seconds: 60
  default-duration-seconds: 30
  default-percentage: 0.5
  votes:
    day:
      command: "time set day"
      percentage: 0.3
      duration: 30
      description: "切换为白天"
      permission: ""
    clear:
      command: "weather clear"
      percentage: 0.3
      duration: 30
      description: "天气晴朗"
      permission: ""

# 死亡金币惩罚
death-penalty:
  enabled: false
  amount: 1.0

# XConomy 余额触发器
xconomy-trigger:
  enabled: false
  scan-interval-seconds: 60
  hysteresis: 100.0
  player-cooldown-seconds: 300
  low-balance:
    enabled: true
    threshold: 1000.0
    commands:
      - "say %player% 余额不足 %balance%"
  high-balance:
    enabled: true
    threshold: 100000.0
    commands:
      - "say %player% 余额过高 %balance%"

# 矿车加速（通过设置 minecart.maxSpeed 实现，原版为 0.4）
minecart-boost:
  enabled: false
  blocks:
    PACKED_ICE: 0.8           # 2倍速 (16m/s)
    COAL_BLOCK: 0.8           # 2倍速 (16m/s)
    CHISELED_DEEPSLATE: 1.2   # 3倍速 (24m/s)
    POLISHED_BASALT: 1.2      # 3倍速 (24m/s)
    CUT_COPPER: 1.2           # 3倍速 (24m/s)
    STRIPPED_PALE_OAK_WOOD: 1.5   # 3.75倍速 (30m/s)
    DARK_PRISMARINE: 1.5      # 3.75倍速 (30m/s)
    CHISELED_TUFF_BRICKS: 1.5     # 3.75倍速 (30m/s)

# 小镇共享PHome系统
town-phome:
  enabled: false
  # PlaceholderAPI 变量配置（不含 %...%）
  papi-variables:
    town-name: "playerGuild_name"
    town-level: "playerGuild_guild_level"
    player-role: "playerGuild_role"
  # 可管理PHome的职位列表
  management-roles:
    - "镇长"
    - "副镇长"
    - "Mayor"
    - "Deputy"
  # 小镇等级对应的PHome数量上限
  level-limits:
    1: 3
    2: 5
    3: 8
    default: 10

# 地标系统
landmark:
  enabled: false
  max-region-volume: 1000000
  enter-message-cooldown-seconds: 10
  show-coords-in-gui: false
  teleport:
    require-inside-landmark: true
    safe-landing: true
    cast-time-seconds: 0
    cancel-on-move: true
    cooldown-seconds: 0
