# TSLplugins - å®Œæ•´æ–‡æ¡£

[![Kotlin](https://img.shields.io/badge/Kotlin-1.9.21-blue.svg)](https://kotlinlang.org)
[![Paper](https://img.shields.io/badge/Paper-1.21.8-green.svg)](https://papermc.io)
[![Folia](https://img.shields.io/badge/Folia-Supported-brightgreen.svg)](https://papermc.io/software/folia)

> TSLæœåŠ¡å™¨çš„Minecraftæ’ä»¶ - å®Œå…¨ä½¿ç”¨ Kotlin ç¼–å†™ï¼Œæ”¯æŒ Folia 1.21.8

---

## ğŸ“‹ ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
3. [åŠŸèƒ½æ¨¡å—](#åŠŸèƒ½æ¨¡å—)
   - [å‘½ä»¤åˆ«åç³»ç»Ÿ](#å‘½ä»¤åˆ«åç³»ç»Ÿ)
   - [ç»´æŠ¤æ¨¡å¼](#ç»´æŠ¤æ¨¡å¼)
   - [æˆå°±ç³»ç»Ÿ](#æˆå°±ç³»ç»Ÿ)
   - [è®¿å®¢æ¨¡å¼](#è®¿å®¢æ¨¡å¼)
   - [æƒé™æ£€æµ‹å™¨](#æƒé™æ£€æµ‹å™¨)
   - [å†œç”°ä¿æŠ¤](#å†œç”°ä¿æŠ¤)
   - [MOTD å‡ç©å®¶æ˜¾ç¤º](#motd-å‡ç©å®¶æ˜¾ç¤º)
4. [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
5. [å‘½ä»¤å’Œæƒé™](#å‘½ä»¤å’Œæƒé™)
6. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
7. [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ä¿¡æ¯

- **åç§°**: TSLplugins
- **ç‰ˆæœ¬**: 1.0
- **è¯­è¨€**: Kotlin 1.9.21
- **æœåŠ¡å™¨**: Paper/Folia 1.21.8
- **ä½œè€…**: Zvbj

### Kotlin ä¼˜åŠ¿

æœ¬æ’ä»¶ä» Java å®Œå…¨è¿ç§»åˆ° Kotlinï¼Œå¸¦æ¥ï¼š

- âœ… **ç©ºå®‰å…¨** - ç¼–è¯‘æ—¶é¿å… NullPointerException
- âœ… **ç®€æ´è¯­æ³•** - ä»£ç é‡å‡å°‘çº¦ 30%
- âœ… **å±æ€§è®¿é—®** - æ›¿ä»£ getter/setter
- âœ… **Data Class** - è‡ªåŠ¨ç”Ÿæˆå¸¸ç”¨æ–¹æ³•
- âœ… **Lambda** - æ›´ç®€æ´çš„å›è°ƒ
- âœ… **å­—ç¬¦ä¸²æ¨¡æ¿** - æ¸…æ™°çš„æ¶ˆæ¯æ ¼å¼åŒ–

### é¡¹ç›®ç»“æ„

```
TSLplugins/
â”œâ”€â”€ src/main/kotlin/org/tsl/tSLplugins/
â”‚   â”œâ”€â”€ TSLplugins.kt                    # ä¸»æ’ä»¶ç±»
â”‚   â”œâ”€â”€ Alias/                           # å‘½ä»¤åˆ«åç³»ç»Ÿ â­
â”‚   â”‚   â”œâ”€â”€ AliasManager.kt              # åˆ«åç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ DynamicAliasCommand.kt       # åŠ¨æ€å‘½ä»¤æ³¨å†Œ
â”‚   â”‚   â””â”€â”€ AliasCommand.kt              # é‡è½½å‘½ä»¤å¤„ç†
â”‚   â”œâ”€â”€ Maintenance/                     # ç»´æŠ¤æ¨¡å¼ç³»ç»Ÿ â­
â”‚   â”‚   â”œâ”€â”€ MaintenanceManager.kt        # ç»´æŠ¤æ¨¡å¼ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ MaintenanceCommand.kt        # ç»´æŠ¤æ¨¡å¼å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ MaintenanceLoginListener.kt  # ç™»å½•ç›‘å¬å™¨
â”‚   â”‚   â””â”€â”€ MaintenanceMotdListener.kt   # MOTDç›‘å¬å™¨
â”‚   â”œâ”€â”€ Advancement/                     # æˆå°±ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ AdvancementMessage.kt        # æˆå°±æ¶ˆæ¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ AdvancementCount.kt          # æˆå°±è®¡æ•°å™¨
â”‚   â”‚   â”œâ”€â”€ AdvancementCommand.kt        # æˆå°±å‘½ä»¤
â”‚   â”‚   â””â”€â”€ TSLPlaceholderExpansion.kt   # PlaceholderAPI æ‰©å±•
â”‚   â”œâ”€â”€ Visitor/                         # è®¿å®¢ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ VisitorEffect.kt             # è®¿å®¢ç‰¹æ•ˆå’Œä¿æŠ¤
â”‚   â”œâ”€â”€ Permission/                      # æƒé™æ£€æµ‹
â”‚   â”‚   â””â”€â”€ PermissionChecker.kt         # è‡ªåŠ¨æƒé™ç»„åˆ†é…
â”‚   â”œâ”€â”€ Farmprotect/                     # å†œç”°ä¿æŠ¤
â”‚   â”‚   â””â”€â”€ FarmProtect.kt               # é˜²æ­¢è¸©è¸å†œç”°
â”‚   â””â”€â”€ Motd/                            # MOTD æ¨¡å—
â”‚       â””â”€â”€ FakePlayerMotd.kt            # å‡ç©å®¶æ•°æ˜¾ç¤º
â””â”€â”€ src/main/resources/
    â”œâ”€â”€ config.yml                       # ä¸»é…ç½®æ–‡ä»¶
    â”œâ”€â”€ aliases.yml                      # åˆ«åé…ç½®æ–‡ä»¶
    â””â”€â”€ plugin.yml                       # æ’ä»¶æè¿°æ–‡ä»¶
```

---

## å¿«é€Ÿå¼€å§‹

### 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

#### 1ï¸âƒ£ å®‰è£…æ’ä»¶ (30ç§’)

```bash
# å¤åˆ¶æ’ä»¶åˆ°æœåŠ¡å™¨
cp TSLplugins-1.0.jar /your/server/plugins/

# é‡å¯æœåŠ¡å™¨
# æ’ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶
```

#### 2ï¸âƒ£ éªŒè¯å®‰è£…

å¯åŠ¨åæŸ¥çœ‹æ§åˆ¶å°ï¼š
```
[TSLplugins] æˆåŠŸåŠ è½½ X ä¸ªå‘½ä»¤åˆ«å
[TSLplugins] TSLæ’ä»¶å¯åŠ¨æˆåŠŸï¼
[TSLplugins] å‘½ä»¤åˆ«åç³»ç»Ÿå·²åŠ è½½ X ä¸ªåˆ«å
[TSLplugins] ç»´æŠ¤æ¨¡å¼çŠ¶æ€: æœªå¯ç”¨
```

#### 3ï¸âƒ£ åŸºç¡€é…ç½®

ç¼–è¾‘ `plugins/TSLplugins/aliases.yml`ï¼š
```yaml
aliases:
  - "t:tpa"              # /t â†’ /tpa
  - "ä¼ é€:tpa"           # /ä¼ é€ â†’ /tpa
  - "h:home"             # /h â†’ /home
```

#### 4ï¸âƒ£ é‡è½½é…ç½®

```
/tsl aliasreload
```

---

## åŠŸèƒ½æ¨¡å—

### å‘½ä»¤åˆ«åç³»ç»Ÿ

> â­ ä¸ºç°æœ‰å‘½ä»¤åˆ›å»ºè‡ªå®šä¹‰åˆ«åï¼Œæ”¯æŒ Tab è¡¥å…¨ï¼Œå‘½ä»¤æ˜¾ç¤ºæ­£å¸¸ï¼ˆç™½è‰²ï¼‰

#### æ ¸å¿ƒç‰¹æ€§

âœ… **å‘½ä»¤åˆ«åæ˜ å°„** - æ”¯æŒä»»æ„å‘½ä»¤åˆ«å  
âœ… **åŠ¨æ€å‘½ä»¤æ³¨å†Œ** - åˆ«åæ˜¾ç¤ºä¸ºç™½è‰²ï¼Œä¸å†çº¢è‰²  
âœ… **Tab è¡¥å…¨æ”¯æŒ** - æ™ºèƒ½è¡¥å…¨ç©å®¶åˆ—è¡¨  
âœ… **å­å‘½ä»¤æ”¯æŒ** - å¦‚ `stp tp:teleport`  
âœ… **å‚æ•°è‡ªåŠ¨ä¼ é€’** - è¾“å…¥å‚æ•°è‡ªåŠ¨é™„åŠ åˆ°åŸå‘½ä»¤  
âœ… **å¤§å°å†™ä¸æ•æ„Ÿ** - `/t` å’Œ `/T` æ•ˆæœç›¸åŒ  
âœ… **å®æ—¶é‡è½½é…ç½®** - `/tsl aliasreload` ç«‹å³ç”Ÿæ•ˆ  
âœ… **ä¸­æ–‡åˆ«åæ”¯æŒ** - å®Œç¾æ”¯æŒä¸­æ–‡å‘½ä»¤  
âœ… **Folia å…¼å®¹** - ä½¿ç”¨å®ä½“è°ƒåº¦å™¨  

#### é…ç½®ç¤ºä¾‹

**aliases.yml**
```yaml
# ç®€å•åˆ«å
aliases:
  - "t:tpa"              # å¿«é€Ÿä¼ é€è¯·æ±‚
  - "ta:tpaccept"        # å¿«é€Ÿæ¥å—
  - "td:tpadeny"         # å¿«é€Ÿæ‹’ç»
  
  # ä¸­æ–‡å‘½ä»¤
  - "ä¼ é€:tpa"
  - "å›å®¶:home"
  - "è®¾ç½®å®¶:sethome"
  
  # å­å‘½ä»¤ç®€åŒ–
  - "stp tp:teleport"    # /stp tp x y z â†’ /teleport x y z
  - "stp time:time set"  # /stp time day â†’ /time set day
  
  # æ¸¸æˆæ¨¡å¼å¿«æ·æ–¹å¼
  - "gm:gamemode"
  - "gms:gamemode survival"
  - "gmc:gamemode creative"
```

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# åŸºç¡€åˆ«å
/t PlayerName        # â†’ /tpa PlayerName

# ä¸­æ–‡åˆ«å
/ä¼ é€ Steve          # â†’ /tpa Steve

# å­å‘½ä»¤åˆ«å
/stp tp 100 64 100   # â†’ /teleport 100 64 100
/stp time day        # â†’ /time set day

# Tab è¡¥å…¨
/t [Tab]             # æ˜¾ç¤ºåœ¨çº¿ç©å®¶åˆ—è¡¨
/ä¼ é€ [Tab]          # æ˜¾ç¤ºåœ¨çº¿ç©å®¶åˆ—è¡¨
```

#### ç®¡ç†å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | æƒé™ |
|------|------|------|
| `/tsl reload` | é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®æ–‡ä»¶ | OP |
| `/tsl aliasreload` | é‡è½½åˆ«åé…ç½® | `tsl.alias.reload` |

---

### ç»´æŠ¤æ¨¡å¼

> â­ å…¨åŠŸèƒ½æœåŠ¡å™¨ç»´æŠ¤æ¨¡å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰ MOTDã€ç‰ˆæœ¬ä¿¡æ¯ã€ç©å®¶åˆ—è¡¨ç­‰

#### æ ¸å¿ƒç‰¹æ€§

âœ… **ä¸€é”®åˆ‡æ¢** - `/tsl maintenance` å¿«é€Ÿå¼€å¯/å…³é—­  
âœ… **æƒé™ç»•è¿‡** - OP å’ŒæŒ‡å®šæƒé™ç©å®¶å¯è¿›å…¥  
âœ… **è‡ªå®šä¹‰ MOTD** - æ˜¾ç¤ºç»´æŠ¤ä¸­çš„æœåŠ¡å™¨ä¿¡æ¯  
âœ… **è‡ªå®šä¹‰ç‰ˆæœ¬** - ä¿®æ”¹ç‰ˆæœ¬æ æ˜¾ç¤ºï¼ˆå¦‚"ç»´æŠ¤âœ–"ï¼‰  
âœ… **å‡ç©å®¶æ•°** - è‡ªå®šä¹‰åœ¨çº¿/æœ€å¤§äººæ•°æ˜¾ç¤º  
âœ… **æ‚¬æµ®æç¤º** - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºç»´æŠ¤ä¿¡æ¯  
âœ… **è‡ªå®šä¹‰è¸¢å‡ºæ¶ˆæ¯** - å¤šè¡Œå½©è‰²è¸¢å‡ºæç¤º  
âœ… **çŠ¶æ€æŒä¹…åŒ–** - é‡å¯åç»´æŠ¤çŠ¶æ€ä¿æŒ  
âœ… **Folia å…¼å®¹** - å®Œç¾æ”¯æŒ Folia å¤šçº¿ç¨‹  

#### ä½¿ç”¨æ–¹æ³•

```bash
# åˆ‡æ¢ç»´æŠ¤æ¨¡å¼
/tsl maintenance

# ç»™ç©å®¶ç»•è¿‡æƒé™
/lp user <ç©å®¶> permission set tsl.maintenance.bypass true
```

#### é…ç½®è¯´æ˜

**config.yml - maintenance éƒ¨åˆ†ï¼š**
```yaml
maintenance:
  # å‘½ä»¤ç›¸å…³æ¶ˆæ¯
  messages:
    enabled: "&a[ç»´æŠ¤æ¨¡å¼] &7æœåŠ¡å™¨ç»´æŠ¤æ¨¡å¼å·²å¯ç”¨ï¼"
    disabled: "&c[ç»´æŠ¤æ¨¡å¼] &7æœåŠ¡å™¨ç»´æŠ¤æ¨¡å¼å·²å…³é—­ï¼"
    no-permission: "&cä½ æ²¡æœ‰æƒé™ä½¿ç”¨æ­¤å‘½ä»¤ï¼"
  
  # ç©å®¶è¢«è¸¢å‡ºæ—¶æ˜¾ç¤ºçš„æ¶ˆæ¯ï¼ˆå¤šè¡Œï¼‰
  kick-message:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - ""
    - "&7æœåŠ¡å™¨æ­£åœ¨è¿›è¡Œç»´æŠ¤å‡çº§"
    - "&7è¯·ç¨åå†è¯•ï¼"
    - ""
    - "&eé¢„è®¡ç»´æŠ¤æ—¶é—´: &f30åˆ†é’Ÿ"
    - "&eå…³æ³¨æˆ‘ä»¬çš„ç¤¾åŒºè·å–æœ€æ–°æ¶ˆæ¯"
  
  # æœåŠ¡å™¨åˆ—è¡¨ MOTDï¼ˆç»´æŠ¤æ¨¡å¼ä¸‹æ˜¾ç¤ºï¼‰
  motd:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - "&7æ­£åœ¨è¿›è¡Œç»´æŠ¤å‡çº§ï¼Œè¯·ç¨åå†è¯•"
  
  # ç‰ˆæœ¬æ æ–‡æœ¬ï¼ˆæ›¿ä»£åŸæœ¬çš„ "1.21.x"ï¼‰
  version-text: "&cç»´æŠ¤ä¸­ âœ–"
  
  # æ˜¯å¦æ˜¾ç¤ºä¸ºä¸å…¼å®¹ç‰ˆæœ¬ï¼ˆæ˜¾ç¤ºçº¢è‰²Xï¼‰
  show-incompatible-version: true
  
  # æ˜¯å¦æ˜¾ç¤ºå‡ç©å®¶æ•°é‡
  show-fake-players: true
  
  # å‡åœ¨çº¿äººæ•°
  fake-online: 0
  
  # å‡æœ€å¤§äººæ•°
  fake-max: 0
  
  # ç©å®¶åˆ—è¡¨æ‚¬æµ®æç¤ºï¼ˆé¼ æ ‡æ”¾åˆ°äººæ•°ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼‰
  hover-message:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - ""
    - "&7ç»´æŠ¤åŸå› : &fä¾‹è¡Œç»´æŠ¤å‡çº§"
    - "&7ç»´æŠ¤æ—¶é—´: &fçº¦30åˆ†é’Ÿ"
    - ""
    - "&eè¯·å…³æ³¨æˆ‘ä»¬çš„ç¤¾åŒº"
    - "&eè·å–æœ€æ–°ç»´æŠ¤è¿›åº¦"
```

#### å·¥ä½œæµç¨‹

1. ç®¡ç†å‘˜æ‰§è¡Œ `/tsl maintenance` å‘½ä»¤
2. ç»´æŠ¤çŠ¶æ€ä¿å­˜åˆ° `maintenance.dat` æ–‡ä»¶
3. æ‰€æœ‰æ²¡æœ‰ `tsl.maintenance.bypass` æƒé™çš„ç©å®¶è¢«è¸¢å‡º
4. æœåŠ¡å™¨åˆ—è¡¨æ˜¾ç¤ºè‡ªå®šä¹‰çš„ç»´æŠ¤ä¿¡æ¯ï¼š
   - MOTD æ˜¾ç¤ºç»´æŠ¤ä¸­
   - ç‰ˆæœ¬æ æ˜¾ç¤º "ç»´æŠ¤âœ–"
   - ç©å®¶æ•°æ˜¾ç¤ºä¸º 0/0ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
   - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ç»´æŠ¤ä¿¡æ¯
5. ç©å®¶å°è¯•è¿›å…¥æ—¶ä¼šè¢«è¸¢å‡ºå¹¶æ˜¾ç¤ºç»´æŠ¤æ¶ˆæ¯
6. æœ‰ç»•è¿‡æƒé™çš„ç©å®¶å¯ä»¥æ­£å¸¸è¿›å…¥æœåŠ¡å™¨

#### æƒé™è¯´æ˜

| æƒé™ | è¯´æ˜ | é»˜è®¤ |
|------|------|------|
| `tsl.maintenance.toggle` | åˆ‡æ¢ç»´æŠ¤æ¨¡å¼ | OP |
| `tsl.maintenance.bypass` | ç»•è¿‡ç»´æŠ¤æ¨¡å¼é™åˆ¶ | OP |

---

### æˆå°±ç³»ç»Ÿ

#### åŠŸèƒ½ç‰¹æ€§

- âœ… è‡ªåŠ¨éšè—æ™®é€šæˆå°±çš„å…¬å±æ¶ˆæ¯
- âœ… ä¿ç•™æŒ‘æˆ˜æˆå°±çš„å…¬å±æ¶ˆæ¯ï¼ˆç¨€æœ‰æˆå°±ï¼‰
- âœ… ç©å®¶ä¸ªäººä»èƒ½çœ‹åˆ°è‡ªå·±çš„æˆå°±é€šçŸ¥
- âœ… æä¾› PlaceholderAPI å ä½ç¬¦ï¼š`%tsl_adv_count%`
- âœ… æ”¯æŒæ‰‹åŠ¨åˆ·æ–°ç»Ÿè®¡ï¼š`/tsl advcount refresh <player|all>`

#### é…ç½®

æ— éœ€é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚

---

### è®¿å®¢æ¨¡å¼

#### åŠŸèƒ½ç‰¹æ€§

- âœ… æ‹¥æœ‰ `tsl.visitor` æƒé™çš„ç©å®¶è·å¾—ç‰¹æ®Šä¿æŠ¤
- âœ… æ€ªç‰©ä¸ä¼šä¸»åŠ¨æ”»å‡»è®¿å®¢
- âœ… è®¿å®¢ä¼šè‡ªåŠ¨è·å¾—å‘å…‰æ•ˆæœï¼ˆä¾¿äºè¯†åˆ«ï¼‰
- âœ… æ”¯æŒè‡ªå®šä¹‰æç¤ºæ¶ˆæ¯ã€æ ‡é¢˜å’ŒéŸ³æ•ˆ

#### é…ç½®ç¤ºä¾‹

**config.yml - visitor éƒ¨åˆ†ï¼š**
```yaml
visitor:
  gained:
    chat: "&a[è®¿å®¢æ¨¡å¼] &7ä½ å·²è¿›å…¥è®¿å®¢æ¨¡å¼ï¼Œæ€ªç‰©å°†ä¸ä¼šæ”»å‡»ä½ ï¼Œå¹¶ä¸”ä½ ä¼šå‘å…‰ï¼"
    title: "&aè®¿å®¢æ¨¡å¼"
    subtitle: "&7å·²å¯ç”¨"
    sound: "entity.player.levelup"
  lost:
    chat: "&c[è®¿å®¢æ¨¡å¼] &7ä½ å·²é€€å‡ºè®¿å®¢æ¨¡å¼ï¼Œæ€ªç‰©ç°åœ¨å¯ä»¥æ”»å‡»ä½ äº†ï¼"
    title: "&cè®¿å®¢æ¨¡å¼"
    subtitle: "&7å·²ç¦ç”¨"
    sound: "block.note_block.bass"
```

#### ä½¿ç”¨æ–¹æ³•

```bash
# ç»™äºˆè®¿å®¢æƒé™
/lp user <ç©å®¶> permission set tsl.visitor true

# ç§»é™¤è®¿å®¢æƒé™
/lp user <ç©å®¶> permission unset tsl.visitor
```

---

### æƒé™æ£€æµ‹å™¨

#### åŠŸèƒ½ç‰¹æ€§

- âœ… åŸºäº PlaceholderAPI å˜é‡è‡ªåŠ¨åˆ†é…æƒé™ç»„
- âœ… æ”¯æŒç©å®¶åŠ å…¥æ—¶è‡ªåŠ¨æ£€æµ‹
- âœ… å¯é…ç½®ç›®æ ‡æƒé™ç»„å’Œè§¦å‘æ¡ä»¶
- âœ… å¯é€‰æ‰§è¡Œè‡ªå®šä¹‰å‘½ä»¤

#### é…ç½®ç¤ºä¾‹

**config.yml - permission-checker éƒ¨åˆ†ï¼š**
```yaml
permission-checker:
  enabled: true
  target-group: "normal"
  variable-name: "%player_gamemode%"
  variable-value: "SURVIVAL"
  execute-command: false
  commands:
    - "say æ¬¢è¿ %player% åŠ å…¥æœåŠ¡å™¨ï¼"
    - "give %player% diamond 1"
```

---

### å†œç”°ä¿æŠ¤

#### åŠŸèƒ½ç‰¹æ€§

- âœ… é˜²æ­¢ç©å®¶å’Œç”Ÿç‰©è¸©è¸å†œç”°
- âœ… æ— éœ€é…ç½®ï¼Œå¼€ç®±å³ç”¨

---

### MOTD å‡ç©å®¶æ˜¾ç¤º

#### åŠŸèƒ½ç‰¹æ€§

- âœ… å¯å¼€å¯/å…³é—­å‡ç©å®¶æ˜¾ç¤ºåŠŸèƒ½
- âœ… åœ¨æœåŠ¡å™¨åˆ—è¡¨ä¸­è°ƒæ•´æ˜¾ç¤ºçš„åœ¨çº¿äººæ•°
- âœ… æ˜¾ç¤ºäººæ•° = å®é™…åœ¨çº¿ + é…ç½®çš„åç§»é‡
- âœ… æœ€å°æ˜¾ç¤ºä¸º 0ï¼ˆä¸ä¼šæ˜¾ç¤ºè´Ÿæ•°ï¼‰

#### é…ç½®ç¤ºä¾‹

**config.ymlï¼š**
```yaml
fakeplayer:
  enabled: true      # æ˜¯å¦å¯ç”¨å‡ç©å®¶åŠŸèƒ½
  count: 3          # æ˜¾ç¤ºäººæ•°ä¼šå¢åŠ  3 äººï¼ˆå¯ä¸ºè´Ÿæ•°ï¼‰
```

---

## é…ç½®æ–‡ä»¶

### config.yml

ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„é…ç½®ï¼š

```yaml
# MOTD å‡ç©å®¶é…ç½®
fakeplayer:
  enabled: true    # æ˜¯å¦å¯ç”¨å‡ç©å®¶åŠŸèƒ½
  count: 3        # æ˜¾ç¤ºçš„åœ¨çº¿äººæ•° = å®é™…åœ¨çº¿ + countï¼ˆå¯ä¸ºè´Ÿï¼Œæœ€å°ä¸º 0ï¼‰

# Visitor æ¨¡å¼é…ç½®
visitor:
  gained:
    chat: "&a[è®¿å®¢æ¨¡å¼] &7ä½ å·²è¿›å…¥è®¿å®¢æ¨¡å¼ï¼"
    title: "&aè®¿å®¢æ¨¡å¼"
    subtitle: "&7å·²å¯ç”¨"
    sound: "entity.player.levelup"
  lost:
    chat: "&c[è®¿å®¢æ¨¡å¼] &7ä½ å·²é€€å‡ºè®¿å®¢æ¨¡å¼ï¼"
    title: "&cè®¿å®¢æ¨¡å¼"
    subtitle: "&7å·²ç¦ç”¨"
    sound: "block.note_block.bass"

# æƒé™æ£€æµ‹é…ç½®
permission-checker:
  enabled: true
  target-group: "normal"
  variable-name: "%player_gamemode%"
  variable-value: "SURVIVAL"
  execute-command: false
  commands:
    - "say æ¬¢è¿ %player% åŠ å…¥æœåŠ¡å™¨ï¼"

# ç»´æŠ¤æ¨¡å¼é…ç½®
maintenance:
  messages:
    enabled: "&a[ç»´æŠ¤æ¨¡å¼] &7æœåŠ¡å™¨ç»´æŠ¤æ¨¡å¼å·²å¯ç”¨ï¼"
    disabled: "&c[ç»´æŠ¤æ¨¡å¼] &7æœåŠ¡å™¨ç»´æŠ¤æ¨¡å¼å·²å…³é—­ï¼"
    no-permission: "&cä½ æ²¡æœ‰æƒé™ä½¿ç”¨æ­¤å‘½ä»¤ï¼"
  kick-message:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - ""
    - "&7æœåŠ¡å™¨æ­£åœ¨è¿›è¡Œç»´æŠ¤å‡çº§"
    - "&7è¯·ç¨åå†è¯•ï¼"
  motd:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - "&7æ­£åœ¨è¿›è¡Œç»´æŠ¤å‡çº§ï¼Œè¯·ç¨åå†è¯•"
  version-text: "&cç»´æŠ¤ä¸­ âœ–"
  show-incompatible-version: true
  show-fake-players: true
  fake-online: 0
  fake-max: 0
  hover-message:
    - "&c&lâš  æœåŠ¡å™¨ç»´æŠ¤ä¸­ âš "
    - ""
    - "&7ç»´æŠ¤åŸå› : &fä¾‹è¡Œç»´æŠ¤å‡çº§"
    - "&7ç»´æŠ¤æ—¶é—´: &fçº¦30åˆ†é’Ÿ"
```

### aliases.yml

å‘½ä»¤åˆ«åé…ç½®æ–‡ä»¶ï¼š

```yaml
aliases:
  - "t:tpa"
  - "ä¼ é€:tpa"
  - "h:home"
  - "stp tp:teleport"
```

---

## å‘½ä»¤å’Œæƒé™

### å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ | æƒé™ |
|------|------|------|
| `/tsl reload` | é‡æ–°åŠ è½½æ‰€æœ‰é…ç½®æ–‡ä»¶ | OP |
| `/tsl advcount refresh <player\|all>` | åˆ·æ–°æˆå°±ç»Ÿè®¡ | - |
| `/tsl aliasreload` | é‡è½½åˆ«åé…ç½® | `tsl.alias.reload` |
| `/tsl maintenance on` | å¼€å¯ç»´æŠ¤æ¨¡å¼ | `tsl.maintenance.manage` |
| `/tsl maintenance off` | å…³é—­ç»´æŠ¤æ¨¡å¼ | `tsl.maintenance.manage` |
| `/tsl maintenance add <ç©å®¶å>` | æ·»åŠ ç©å®¶åˆ°ç™½åå• | `tsl.maintenance.manage` |
| `/tsl maintenance remove <ç©å®¶å>` | ä»ç™½åå•ç§»é™¤ç©å®¶ | `tsl.maintenance.manage` |
| `/tsl maintenance whitelist` | æŸ¥çœ‹ç™½åå•åˆ—è¡¨ | `tsl.maintenance.manage` |

### æƒé™åˆ—è¡¨

| æƒé™ | è¯´æ˜ | é»˜è®¤ |
|------|------|------|
| `tsl.visitor` | è®¿å®¢æƒé™ï¼ˆæ€ªç‰©ä¸æ”»å‡»ã€å‘å…‰ï¼‰ | false |
| `tsl.reload` | é‡æ–°åŠ è½½æ’ä»¶é…ç½® | OP |
| `tsl.alias.reload` | é‡è½½å‘½ä»¤åˆ«åé…ç½® | OP |
| `tsl.maintenance.manage` | ç®¡ç†ç»´æŠ¤æ¨¡å¼ï¼ˆæ‰€æœ‰å‘½ä»¤ï¼‰ | OP |

### PlaceholderAPI å ä½ç¬¦

| å ä½ç¬¦ | è¯´æ˜ |
|--------|------|
| `%tsl_adv_count%` | ç©å®¶çš„æˆå°±æ•°é‡ |

---

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Kotlin 1.9.21
- **æœåŠ¡å™¨**: Paper/Folia API 1.21.8
- **ä¾èµ–**: 
  - LuckPerms API 5.4
  - PlaceholderAPI 2.11.6
- **æ„å»º**: Gradle 8.x + Kotlin DSL

### Folia å…¼å®¹æ€§

æœ¬æ’ä»¶å®Œå…¨å…¼å®¹ Folia å¤šçº¿ç¨‹æœåŠ¡å™¨ï¼š

- âœ… ä½¿ç”¨å®ä½“è°ƒåº¦å™¨è€Œéå…¨å±€è°ƒåº¦å™¨
- âœ… ä½¿ç”¨åŒºåŸŸè°ƒåº¦å™¨è¿›è¡Œå®šæœŸä»»åŠ¡
- âœ… é¿å…è·¨åŒºåŸŸå®ä½“æ“ä½œ
- âœ… æ‰€æœ‰ä»£ç éƒ½é€šè¿‡ Folia æµ‹è¯•

### æ ¸å¿ƒæ¶æ„

```
TSLplugins (ä¸»ç±»)
â”œâ”€â”€ AliasManager (åˆ«åç®¡ç†)
â”œâ”€â”€ MaintenanceManager (ç»´æŠ¤æ¨¡å¼ç®¡ç†)
â”œâ”€â”€ AdvancementCount (æˆå°±ç»Ÿè®¡)
â”œâ”€â”€ VisitorEffect (è®¿å®¢æ•ˆæœ)
â”œâ”€â”€ PermissionChecker (æƒé™æ£€æµ‹)
â”œâ”€â”€ FarmProtect (å†œç”°ä¿æŠ¤)
â””â”€â”€ FakePlayerMotd (MOTDä¿®æ”¹)
```

---

## å¼€å‘æŒ‡å—

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd TSLplugins

# æ„å»ºæ’ä»¶
./gradlew clean build

# ç”Ÿæˆçš„ JAR ä½äº
# build/libs/TSLplugins-1.0.jar
```

### å¼€å‘ç¯å¢ƒ

- **IDE**: IntelliJ IDEA
- **JDK**: Java 21
- **Kotlin**: 1.9.21
- **Gradle**: 8.5

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `src/main/kotlin/org/tsl/tSLplugins/` åˆ›å»ºæ–°åŒ…
2. å®ç°åŠŸèƒ½ç±»ï¼ˆé€šå¸¸å®ç° `Listener` æ¥å£ï¼‰
3. åœ¨ `TSLplugins.kt` çš„ `onEnable()` ä¸­æ³¨å†Œ
4. åœ¨ `plugin.yml` æ·»åŠ å‘½ä»¤å’Œæƒé™ï¼ˆå¦‚éœ€è¦ï¼‰
5. åœ¨ `config.yml` æ·»åŠ é…ç½®é€‰é¡¹ï¼ˆå¦‚éœ€è¦ï¼‰

### ä»£ç é£æ ¼

- ä½¿ç”¨ Kotlin æ ‡å‡†ä»£ç é£æ ¼
- ç±»åä½¿ç”¨ PascalCase
- å‡½æ•°åä½¿ç”¨ camelCase
- ç§æœ‰å­—æ®µä½¿ç”¨ camelCase
- å¸¸é‡ä½¿ç”¨ UPPER_SNAKE_CASE

---

## å¸¸è§é—®é¢˜

### Q: åˆ«åå‘½ä»¤æ˜¾ç¤ºçº¢è‰²æ€ä¹ˆåŠï¼Ÿ
A: æ–°ç‰ˆæœ¬ï¼ˆV2ï¼‰å·²ä¿®å¤ï¼Œåˆ«åä¼šæ˜¾ç¤ºä¸ºç™½è‰²ã€‚ç¡®ä¿ä½¿ç”¨ `/tsl aliasreload` é‡è½½é…ç½®ã€‚

### Q: ç»´æŠ¤æ¨¡å¼ä¸‹OPä¹Ÿè¿›ä¸å»ï¼Ÿ
A: æ£€æŸ¥ OP æ˜¯å¦æœ‰ `tsl.maintenance.bypass` æƒé™ã€‚é»˜è®¤ OP åº”è¯¥è‡ªåŠ¨æ‹¥æœ‰æ­¤æƒé™ã€‚

### Q: PlaceholderAPI å ä½ç¬¦ä¸å·¥ä½œï¼Ÿ
A: ç¡®ä¿å®‰è£…äº† PlaceholderAPI æ’ä»¶ï¼Œå¹¶åœ¨æ’ä»¶å¯åŠ¨æ—¶çœ‹åˆ° "PlaceholderAPI æ‰©å±•å·²æ³¨å†Œ" æ¶ˆæ¯ã€‚

### Q: è®¿å®¢æ¨¡å¼ä¸ç”Ÿæ•ˆï¼Ÿ
A: ç¡®è®¤ç©å®¶æœ‰ `tsl.visitor` æƒé™ï¼Œä½¿ç”¨ `/lp user <ç©å®¶> permission set tsl.visitor true` è®¾ç½®ã€‚

### Q: å¦‚ä½•ä¸´æ—¶å…³é—­æŸä¸ªåŠŸèƒ½ï¼Ÿ
A: ç¼–è¾‘ `config.yml` ä¸­å¯¹åº”åŠŸèƒ½çš„ `enabled` é€‰é¡¹ï¼ˆéƒ¨åˆ†åŠŸèƒ½æ”¯æŒï¼‰ã€‚

---

## è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ª MIT è®¸å¯è¯ã€‚

---

## æ›´æ–°æ—¥å¿—

### v1.0 (2025-11-07)
- âœ… å®ç°å‘½ä»¤åˆ«åç³»ç»Ÿï¼ˆV2 - æ”¯æŒ Tab è¡¥å…¨ï¼‰
- âœ… å®ç°ç»´æŠ¤æ¨¡å¼ç³»ç»Ÿ
- âœ… å®ç°æˆå°±ç³»ç»Ÿ
- âœ… å®ç°è®¿å®¢æ¨¡å¼
- âœ… å®ç°æƒé™æ£€æµ‹å™¨
- âœ… å®ç°å†œç”°ä¿æŠ¤
- âœ… å®ç° MOTD å‡ç©å®¶æ˜¾ç¤º
- âœ… å®Œå…¨æ”¯æŒ Folia 1.21.8
- âœ… å®Œæ•´çš„ Kotlin é‡å†™

---

**æ„Ÿè°¢ä½¿ç”¨ TSLpluginsï¼** ğŸ‰

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»æ’ä»¶å¼€å‘è€…ã€‚

